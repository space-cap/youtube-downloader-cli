# 사용자 가이드

## 📖 소개

**유튜브 다운로더 CLI**는 터미널에서 간편하게 유튜브 동영상을 다운로드할 수 있는 명령줄 도구입니다.

---

## 🚀 설치

### 요구사항
- Python 3.13 이상
- **FFmpeg** (자동 설치됨, 시스템에 설치된 경우 우선 사용)

### 설치 방법

#### 방법 1: PyPI에서 설치 (권장)
```bash
pip install youtubedownloadercli
```

#### 방법 2: 소스에서 설치
```bash
git clone <repository-url>
cd YoutubeDownloaderCli
pip install .
```


### FFmpeg 설치 (선택사항)
`youtubedownloadercli`는 필요한 경우 자동으로 FFmpeg를 다운로드하여 사용합니다. 하지만 시스템 전역에서 사용하거나 특정 버전을 원하신다면 직접 설치할 수도 있습니다.
고화질 다운로드(1080p 이상)나 포맷 변환을 위해서는 FFmpeg가 필요합니다.

**Windows:**
1. [FFmpeg 공식 홈페이지](https://ffmpeg.org/download.html)에서 Windows 빌드 다운로드
2. 압축 해제 후 `bin` 폴더 경로를 시스템 환경변수 PATH에 추가
3. 또는 `winget` 사용: `winget install 'FFmpeg (Essentials)'`

**macOS:**
```bash
brew install ffmpeg
```

**Linux:**
```bash
sudo apt install ffmpeg
```

### 설치 확인
```bash
ffmpeg -version
ytdl --version
```

---

## 🎯 기본 사용법

### 1. 단일 동영상 다운로드

가장 기본적인 사용법입니다:

```bash
ytdl download https://www.youtube.com/watch?v=dQw4w9WgXcQ
```

**결과:**
- 현재 디렉토리의 `downloads/` 폴더에 동영상 저장
- 최고 화질로 자동 다운로드

### 2. 특정 화질로 다운로드

원하는 화질을 지정할 수 있습니다:

```bash
# 1080p로 다운로드
ytdl download https://www.youtube.com/watch?v=dQw4w9WgXcQ --quality 1080p

# 720p로 다운로드
ytdl download https://www.youtube.com/watch?v=dQw4w9WgXcQ -q 720p
```

**사용 가능한 화질:**
- `best` (기본값, 최고 화질)
- `4k` 또는 `2160p`
- `1080p`
- `720p`
- `480p`
- `360p`

### 3. 다운로드 경로 지정

저장 위치를 변경할 수 있습니다:

```bash
# Windows
ytdl download <URL> --output C:\Users\YourName\Videos

# macOS/Linux
ytdl download <URL> -o ~/Videos
```

### 4. 오디오만 다운로드

동영상에서 오디오만 추출하여 MP3로 저장:

```bash
ytdl download <URL> --audio-only
```

---

## 🎵 고급 기능

### 재생목록 다운로드

유튜브 재생목록 전체를 다운로드:

```bash
ytdl download https://www.youtube.com/playlist?list=PLxxxxxx --playlist
```

**옵션:**
- `--playlist-start N`: N번째 동영상부터 시작
- `--playlist-end N`: N번째 동영상까지만 다운로드

**예시:**
```bash
# 재생목록의 5번째부터 10번째까지만 다운로드
ytdl download <PLAYLIST_URL> --playlist --playlist-start 5 --playlist-end 10
```

### 사용 가능한 포맷 확인

다운로드하기 전에 사용 가능한 포맷 확인:

```bash
ytdl list-formats https://www.youtube.com/watch?v=dQw4w9WgXcQ
```

**출력 예시:**
```
Format ID  Extension  Resolution  Note
137        mp4        1080p       video only
136        mp4        720p        video only
140        m4a        audio only  128k
251        webm       audio only  160k
```

### 메타데이터 및 썸네일 저장

동영상 정보와 썸네일을 함께 저장:

```bash
ytdl download <URL> --metadata --thumbnail
```

**저장되는 정보:**
- `video_info.json`: 제목, 설명, 업로드 날짜 등
- `thumbnail.jpg`: 동영상 썸네일 이미지

---

## ⚙️ 설정 관리

### 기본 설정 확인

현재 설정 확인:

```bash
ytdl config show
```

### 설정 변경

기본 다운로드 경로 설정:

```bash
ytdl config set output_dir ~/Videos
```

기본 화질 설정:

```bash
ytdl config set quality 1080p
```

### 설정 초기화

모든 설정을 기본값으로 되돌리기:

```bash
ytdl config reset
```

---

## 📋 명령어 참조

### download
동영상 다운로드

```bash
ytdl download <URL> [OPTIONS]
```

**필수 인자:**
- `URL`: 유튜브 동영상 또는 재생목록 URL

**옵션:**
| 옵션 | 축약형 | 설명 | 기본값 |
|------|--------|------|--------|
| `--quality` | `-q` | 화질 선택 | `best` |
| `--output` | `-o` | 저장 경로 | `./downloads` |
| `--audio-only` | | 오디오만 다운로드 | `False` |
| `--playlist` | | 재생목록 다운로드 | `False` |
| `--metadata` | | 메타데이터 저장 | `False` |
| `--thumbnail` | | 썸네일 저장 | `False` |

### list-formats
사용 가능한 포맷 목록 표시

```bash
ytdl list-formats <URL>
```

### config
설정 관리

```bash
ytdl config [show|set|reset]
```

**하위 명령어:**
- `show`: 현재 설정 표시
- `set <key> <value>`: 설정 변경
- `reset`: 설정 초기화

---

## 💡 사용 예시

### 예시 1: 음악 다운로드
```bash
# 음악 동영상을 MP3로 다운로드
ytdl download https://www.youtube.com/watch?v=... --audio-only -o ~/Music
```

### 예시 2: 강의 재생목록 다운로드
```bash
# 강의 재생목록을 1080p로 다운로드
ytdl download <PLAYLIST_URL> --playlist -q 1080p -o ~/Lectures
```

### 예시 3: 메타데이터 포함 다운로드
```bash
# 동영상, 썸네일, 메타데이터 모두 저장
ytdl download <URL> --metadata --thumbnail
```

### 예시 4: 여러 동영상 다운로드
```bash
# 스크립트로 여러 동영상 다운로드
ytdl download https://www.youtube.com/watch?v=video1
ytdl download https://www.youtube.com/watch?v=video2
ytdl download https://www.youtube.com/watch?v=video3
```

---

## 🔧 문제 해결

### 다운로드가 느려요
- 인터넷 연결 상태 확인
- 낮은 화질 옵션 사용 (`-q 720p`)
- VPN 사용 시 비활성화 시도

### "Video unavailable" 에러
- URL이 올바른지 확인
- 동영상이 비공개 또는 삭제되었는지 확인
- 지역 제한이 있는지 확인

### 권한 에러 (Permission denied)
```bash
# 관리자 권한으로 실행 (Windows)
# PowerShell을 관리자 권한으로 실행

# macOS/Linux
sudo ytdl download <URL>
```

### "ffmpeg is not installed" 에러
- **원인**: FFmpeg가 설치되어 있지 않거나 PATH에 추가되지 않음
- **해결**: 최신 버전에서는 자동으로 FFmpeg를 감지합니다. `uv sync`를 실행하여 의존성을 업데이트해 보세요. 여전히 문제가 발생한다면 위 [FFmpeg 설치](#ffmpeg-설치-선택사항) 섹션을 참고하여 수동으로 설치하세요.


### 설치 오류
```bash
# pip 업그레이드
pip install --upgrade pip

# 재설치
pip uninstall youtubedownloadercli
pip install youtubedownloadercli
```

---

## ⚠️ 주의사항

### 법적 고지
- 저작권이 있는 콘텐츠 다운로드 시 주의
- 개인적인 용도로만 사용
- 유튜브 서비스 약관 준수

### 사용 제한
- 과도한 다운로드는 IP 차단 가능
- 상업적 용도 금지
- 재배포 금지

---

## 🆘 도움말

### 명령어 도움말
```bash
# 전체 도움말
ytdl --help

# 특정 명령어 도움말
ytdl download --help
ytdl config --help
```

### 버전 확인
```bash
ytdl --version
```

---

## 📞 지원

### 버그 리포트
GitHub Issues에 버그 리포트 제출:
- 문제 상황 설명
- 에러 메시지 첨부
- 사용한 명령어 공유

### 기능 요청
새로운 기능이 필요하신가요?
- GitHub Discussions에서 제안
- 사용 사례 설명

### FAQ

**Q: 여러 동영상을 한 번에 다운로드할 수 있나요?**
A: 재생목록 기능을 사용하거나, 스크립트로 여러 명령어를 실행하세요.

**Q: 다운로드 속도를 제한할 수 있나요?**
A: 현재 버전에서는 지원하지 않습니다. 향후 업데이트 예정입니다.

**Q: 자막도 다운로드할 수 있나요?**
A: 향후 버전에서 지원 예정입니다.

**Q: 다운로드 이력을 확인할 수 있나요?**
A: 향후 버전에서 지원 예정입니다.

---

## 🎓 추가 학습 자료

### 튜토리얼
- [초보자 가이드](./tutorials/beginner-guide.md)
- [고급 사용법](./tutorials/advanced-usage.md)

### 비디오 가이드
- [설치 및 기본 사용법 (YouTube)](링크)
- [재생목록 다운로드 방법 (YouTube)](링크)

---

## 📚 관련 문서
- [작업 계획서](./01-작업-계획서.md)
- [프로젝트 개요](./02-프로젝트-개요.md)
- [기술 스택](./03-기술-스택.md)
- [개발 가이드](./04-개발-가이드.md)
